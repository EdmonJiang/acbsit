extends layout

append script
      script(src='https://unpkg.com/angular@1.5.8/angular.min.js',type='text/javascript')
      
block content
  .container(ng-controller="thinkCtrl")
    h1 Thinkpad Warranty Information Query&nbsp;
      //-
        button#btnpopover.btn.btn-info(type="button" data-container="body" data-toggle="popover" data-placement="bottom" data-content="how to find serial number?<br><img src='http://think.lenovo.com.cn/service/warranty/images/search_img.png' alt='serial number composed by model and sn.'>" style={padding:"0px 8px"}) How to find serial number?
    br
    br
    form#site-form.clearfix.form-horizontal(ng-submit="submitInfo()")
      div.row
        label.col-sm-1.search-label(for='qword') Search:
        .col-sm-6.search-box
          input#qword.form-control(type="text" ng-disabled="searching" ng-model="servicetag" placeholder="Enter the serial number of your thinkpad." autofocus)
        .col-sm-4
          h5(ng-class="errMsg.class" ng-bind="errMsg.text")

    .info-box
      .result_left(class="ng-hide" ng-show="assets.WarrantyData")
        table.table.table-bordered.table-striped.table-hover
          tbody
            tr
              th Type:
              td(ng-bind="assets.WarrantyData[0].NodeName")
            tr
              th SN:
              td(ng-bind="assets.WarrantyData[0].MachineNo")
            tr
              th Ship Date:
              td(ng-bind="assets.WarrantyData[0].ScanDate")            
            tr
              th Expired Date:
              td(ng-bind="assets.WarrantyData[0].OutTimeDate")
            tr
              td(colspan="2" style={"text-align":"center"})
                img(ng-src="{{assets.WarrantyData[0].CategropImgURL}}" style={width:"200px"})
      .result_right
        .service_table(class="ng-hide" ng-show="assets.ServiceData")
          table.table.table-bordered.table-striped.table-hover
            thead
              tr
                th Service
                th Start Date
                th End Date
            tbody
              tr
                td 部件保修
                td(ng-bind="assets.WarrantyData[0].PartStartDate")
                td(ng-bind="assets.WarrantyData[0].PartEndDate")
              tr
                td 人工服务
                td(ng-bind="assets.WarrantyData[0].LaborStartDate")
                td(ng-bind="assets.WarrantyData[0].LaborEndDate")
              tr
                td 上门服务
                td(ng-bind="assets.WarrantyData[0].OnsiteStartDate")
                td(ng-bind="assets.WarrantyData[0].OnsiteEndDate")
              tr(ng-repeat="asset in assets.ServiceData")
                td(ng-if="asset.ServiceProductName" ng-bind="asset.ServiceProductName")
                td(ng-if="asset.ServiceProductName" ng-bind="asset.ServiceStartDate")
                td(ng-if="asset.ServiceProductName" ng-bind="asset.ServiceEndDate")
        .config_table(class="ng-hide" ng-show="assets.ConfigData")
          table.table.table-bordered.table-striped.table-hover
            thead
              tr
                th Name
                th Description
                th Number
            tbody
              tr(ng-repeat="asset in assets.ConfigData")
                td(ng-if="asset.Name" ng-bind="asset.Name")
                td(ng-if="asset.Name" ng-bind="asset.Notes")
                td(ng-if="asset.Name" ng-bind="asset.Numer")

  script(src='/cmdb/js/thinkctrl.js',type='text/javascript')